import"../chunks/DsnmJJEf.js";import{i as me}from"../chunks/2a5gyWpe.js";import{h as G,a5 as be,y as he,b as _e,aG as xe,T as we,p as ce,aH as A,aI as ye,n as z,t as te,m as O,q as de,g as e,aC as v,E as a,e as D,v as y,w as q,x as b,aJ as qe,aD as I}from"../chunks/CoyZma9l.js";import{o as ke,e as Ee,s as ve}from"../chunks/CDSMYoCH.js";import{a as X}from"../chunks/DhMxpRtI.js";import{p as m,b as Z}from"../chunks/NjEeuB-i.js";function le(o,t,r,n,i){G&&be();var s=t.$$slots?.[r],u=!1;s===!0&&(s=t[r==="default"?"children":r],u=!0),s===void 0||s(o,u?()=>n:n)}function Le(o,t,r){he(()=>{var n=_e(()=>t(o,r?.())||{});if(n?.destroy)return()=>n.destroy()})}function Me(o,t,r){var n=o==null?"":""+o;return n===""?null:n}function Ce(o,t){return o==null?null:String(o)}function j(o,t,r,n,i,s){var u=o.__className;if(G||u!==r||u===void 0){var l=Me(r);(!G||l!==o.getAttribute("class"))&&(l==null?o.removeAttribute("class"):o.className=l),o.__className=r}return s}function ee(o,t,r,n){var i=o.__style;if(G||i!==t){var s=Ce(t);(!G||s!==o.getAttribute("style"))&&(s==null?o.removeAttribute("style"):o.style.cssText=s),o.__style=t}return n}function Be(o,t){xe(window,["resize"],()=>we(()=>t(window[o])))}const w=[];let F;if(typeof window<"u"){const o=()=>w.forEach(t=>t());window.addEventListener("scroll",o),window.addEventListener("resize",o)}if(typeof IntersectionObserver<"u"){const o=new Map,t=new IntersectionObserver((r,n)=>{r.forEach(i=>{const s=o.get(i.target),u=w.indexOf(s);i.isIntersecting?u===-1&&w.push(s):(s(),u!==-1&&w.splice(u,1))})},{rootMargin:"400px 0px"});F={add:({outer:r,update:n})=>{const{top:i,bottom:s}=r.getBoundingClientRect();i<window.innerHeight&&s>0&&w.push(n),o.set(r,n),t.observe(r)},remove:({outer:r,update:n})=>{const i=w.indexOf(n);i!==-1&&w.splice(i,1),o.delete(r),t.unobserve(r)}}}else F={add:({update:o})=>{w.push(o)},remove:({update:o})=>{const t=w.indexOf(o);t!==-1&&w.splice(t,1)}};var De=z("<svelte-scroller-outer><svelte-scroller-background-container><svelte-scroller-background><!></svelte-scroller-background></svelte-scroller-background-container> <svelte-scroller-foreground><!></svelte-scroller-foreground></svelte-scroller-outer>",2);function Ie(o,t){ce(t,!1);const r=v(),n=v(),i=v(),s=v(),u=v();let l=m(t,"top",8,0),k=m(t,"bottom",8,1),h=m(t,"threshold",8,.5),H=m(t,"query",8,"section"),_=m(t,"parallax",8,!1),L=m(t,"index",12,0),E=m(t,"count",12,0),K=m(t,"offset",12,0),f=m(t,"progress",12,0),oe=m(t,"visible",12,!1),c=v(),p=v(),M=v(),S,C,g=v(0),x=v(),B=v(0),P=v(1);ke(()=>{C=e(p).querySelectorAll(H()),E(C.length),Q();const d={outer:e(c),update:Q};return F.add(d),()=>F.remove(d)});function Q(){if(!e(p))return;const d=e(c).getBoundingClientRect();S=d.left,a(P,d.right-S);const R=e(p).getBoundingClientRect(),re=e(M).getBoundingClientRect();oe(R.top<e(g)&&R.bottom>0);const V=R.bottom-R.top,ne=re.bottom-re.top,W=e(n)-e(r);f((e(r)-R.top)/(V-W)),f()<=0?(a(B,0),a(x,!1)):f()>=1?(a(B,_()?V-ne:V-W),a(x,!1)):(a(B,_()?Math.round(e(r)-f()*(ne-W)):e(r)),a(x,!0));for(let T=0;T<C.length;T++){const ge=C[T],{top:se}=ge.getBoundingClientRect(),ie=C[T+1],ae=ie?ie.getBoundingClientRect().top:R.bottom;if(K((e(i)-se)/(ae-se)),ae>=e(i)){L(T);break}}}A(()=>(D(l()),e(g)),()=>{a(r,Math.round(l()*e(g)))}),A(()=>(D(k()),e(g)),()=>{a(n,Math.round(k()*e(g)))}),A(()=>(D(h()),e(g)),()=>{a(i,Math.round(h()*e(g)))}),A(()=>(D(l()),D(k()),D(h()),D(_())),()=>{l(),k(),h(),_(),Q()}),A(()=>(e(x),e(B)),()=>{a(s,`
		position: ${e(x)?"fixed":"absolute"};
		top: 0;
		transform: translate(0, ${e(B)}px);
		z-index: 1;
	`)}),A(()=>(e(x),e(P)),()=>{a(u,e(x)?`width:${e(P)}px;`:"")}),ye(),me();var N=De();j(N,1,"svelte-xdbafy");var U=y(N);j(U,1,"background-container svelte-xdbafy");var J=y(U);j(J,1,"svelte-xdbafy");var fe=y(J);le(fe,t,"background",{}),q(J),Z(J,d=>a(M,d),()=>e(M)),q(U);var Y=b(U,2);j(Y,1,"svelte-xdbafy");var pe=y(Y);le(pe,t,"foreground",{}),q(Y),Z(Y,d=>a(p,d),()=>e(p)),q(N),Z(N,d=>a(c,d),()=>e(c)),te(()=>ee(U,`${e(s)??""}${e(u)??""}`)),Be("innerHeight",d=>a(g,d)),O(o,N),de()}var Re=z("<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p> <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p> <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>",1);function ue(o){var t=Re();qe(4),O(o,t)}var Ae=z('<div class="label svelte-aydmov"><div class="drag-target svelte-aydmov"></div> <hr class="svelte-aydmov"/> <span class="svelte-aydmov"> </span></div>');function $(o,t){ce(t,!0);function r(l,k){function h(H){function _(E){E.preventDefault(),l.dispatchEvent(new CustomEvent("drag",{detail:{value:E.clientY/window.innerHeight}}))}function L(E){window.removeEventListener("mousemove",_),window.removeEventListener("mouseup",L)}window.addEventListener("mousemove",_),window.addEventListener("mouseup",L)}return l.addEventListener("mousedown",h),{destroy(){l.removeEventListener("mousedown",h)}}}let n=m(t,"value",15);var i=Ae(),s=b(y(i),4),u=y(s,!0);q(s),q(i),Le(i,l=>r?.(l)),te(()=>{ee(i,`top: ${n()*100}%`),ee(s,`top: ${n()>.5?"-1.4em":"0.2em"}`),ve(u,t.label)}),Ee("drag",i,l=>n(l.detail.value)),O(o,i),de()}var Oe=z("<div><p>current section: <strong> </strong></p> <progress></progress> <p>offset in current section</p> <progress></progress> <p>total progress</p> <progress></progress></div>"),ze=z('<div style="padding: 0 0 0 50%;"><section class="svelte-vfho01">section 1</section> <section class="svelte-vfho01">section 2</section> <section class="svelte-vfho01">section 3</section> <section class="svelte-vfho01">section 4</section> <section class="svelte-vfho01">section 5</section></div>'),He=z('<div class="demo svelte-vfho01"><!> <!> <!> <!> <!> <!></div>');function Se(o){let t=I(void 0),r=I(void 0),n=I(void 0),i=I(void 0),s=I(.1),u=I(.5),l=I(.9);var k=He(),h=y(k);ue(h);var H=b(h,2);Ie(H,{get top(){return e(s)},get threshold(){return e(u)},get bottom(){return e(l)},get count(){return e(t)},set count(c){a(t,c,!0)},get index(){return e(r)},set index(c){a(r,c,!0)},get offset(){return e(n)},set offset(c){a(n,c,!0)},get progress(){return e(i)},set progress(c){a(i,c,!0)},background:c=>{var p=Oe(),M=y(p),S=b(y(M)),C=y(S);q(S),q(M);var g=b(M,2),x=b(g,4),B=b(x,4);q(p),te(()=>{ve(C,`${e(r)+1}/${e(t)??""}`),X(g,e(t)?(e(r)+1)/e(t):0),X(x,e(n)||0),X(B,e(i)||0)}),O(c,p)},foreground:c=>{var p=ze();O(c,p)},$$slots:{background:!0,foreground:!0}});var _=b(H,2);ue(_);var L=b(_,2);$(L,{label:"top",get value(){return e(s)},set value(f){a(s,f,!0)}});var E=b(L,2);$(E,{label:"threshold",get value(){return e(u)},set value(f){a(u,f,!0)}});var K=b(E,2);$(K,{label:"bottom",get value(){return e(l)},set value(f){a(l,f,!0)}}),q(k),O(o,k)}function je(o){Se(o)}export{je as component};
